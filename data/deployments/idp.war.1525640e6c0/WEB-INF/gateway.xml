<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<gateway>
  <resource>
    <role>KNOXSSO</role>
    <pattern>api/**?**</pattern>
    <filter>
      <role>xforwardedheaders</role>
      <name>XForwardedHeaderFilter</name>
      <class>org.apache.hadoop.gateway.filter.XForwardedHeaderFilter</class>
    </filter>
    <filter>
      <role>federation</role>
      <name>pac4j</name>
      <class>org.apache.hadoop.gateway.pac4j.filter.Pac4jDispatcherFilter</class>
      <param>
        <name>pac4j.callbackUrl</name>
        <value>https://127.0.0.1:8443/gateway/idp/api/v1/websso</value>
      </param>
      <param>
        <name>cas.loginUrl</name>
        <value>https://casserverpac4j.herokuapp.com/login</value>
      </param>
    </filter>
    <filter>
      <role>federation</role>
      <name>pac4j</name>
      <class>org.apache.hadoop.gateway.pac4j.filter.Pac4jIdentityAdapter</class>
      <param>
        <name>pac4j.callbackUrl</name>
        <value>https://127.0.0.1:8443/gateway/idp/api/v1/websso</value>
      </param>
      <param>
        <name>cas.loginUrl</name>
        <value>https://casserverpac4j.herokuapp.com/login</value>
      </param>
    </filter>
    <filter>
      <role>identity-assertion</role>
      <name>Default</name>
      <class>org.apache.hadoop.gateway.identityasserter.filter.IdentityAsserterFilter</class>
    </filter>
    <filter>
      <role>pivot</role>
      <name>jersey</name>
      <class>org.glassfish.jersey.servlet.ServletContainer</class>
      <param>
        <name>jersey.config.server.provider.packages</name>
        <value>org.apache.hadoop.gateway.service.knoxsso</value>
      </param>
    </filter>
  </resource>
</gateway>
