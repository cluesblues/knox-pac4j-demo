<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<gateway>
  <resource>
    <role>KNOX</role>
    <pattern>*/**?**</pattern>
    <filter>
      <role>xforwardedheaders</role>
      <name>XForwardedHeaderFilter</name>
      <class>org.apache.hadoop.gateway.filter.XForwardedHeaderFilter</class>
    </filter>
    <filter>
      <role>authentication</role>
      <name>PreShiroProvider</name>
      <class>org.apache.hadoop.gateway.filter.ResponseCookieFilter</class>
    </filter>
    <filter>
      <role>authentication</role>
      <name>ShiroProvider</name>
      <class>org.apache.shiro.web.servlet.ShiroFilter</class>
    </filter>
    <filter>
      <role>authentication</role>
      <name>PostShiroProvider</name>
      <class>org.apache.hadoop.gateway.filter.ShiroSubjectIdentityAdapter</class>
    </filter>
    <filter>
      <role>identity-assertion</role>
      <name>Default</name>
      <class>org.apache.hadoop.gateway.identityasserter.filter.IdentityAsserterFilter</class>
    </filter>
    <filter>
      <role>authorization</role>
      <name>AclsAuthz</name>
      <class>org.apache.hadoop.gateway.filter.AclsAuthorizationFilter</class>
      <param>
        <name>resource.role</name>
        <value>KNOX</value>
      </param>
      <param>
        <name>knox.acl</name>
        <value>admin;*;*</value>
      </param>
    </filter>
    <filter>
      <role>pivot</role>
      <name>jersey</name>
      <class>org.glassfish.jersey.servlet.ServletContainer</class>
      <param>
        <name>jersey.config.server.provider.packages</name>
        <value>org.apache.hadoop.gateway.service.admin</value>
      </param>
    </filter>
  </resource>
</gateway>
